<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Classified Database Terminal</title>
<style>
body {
  margin:0;
  background: black;
  color: #00ff00;
  font-family: "Courier New", monospace;
  overflow: hidden;
}
#terminal {
  position: relative;
  width: 100vw;
  height: 100vh;
  display: flex;
  transform: scale(1,1.02) skewY(-0.5deg);
}
#static {
  pointer-events: none;
  position: absolute;
  width: 100%;
  height: 100%;
  top:0; left:0;
  background: repeating-linear-gradient(
    rgba(0,255,0,0.05) 0 1px,
    transparent 1px 2px
  );
  animation: staticAnim 0.05s infinite;
  z-index: 1000;
}
@keyframes staticAnim {0%{background-position:0 0}100%{background-position:0 100%}}
.cursor {
  display:inline-block;
  width:10px;
  background:#00ff00;
  margin-left:2px;
  animation: blink 1s steps(2) infinite;
}
@keyframes blink {50%{background:black}}

#rightPanel {
  width: 100%;
  padding: 20px;
  box-sizing: border-box;
  overflow-y: auto;
}

input, button {
  background: black;
  border: 2px solid #00ff00;
  color: #00ff00;
  font-family: "Courier New", monospace;
  font-size: 14px;
  padding: 5px;
  margin: 5px 0;
  width: 100%;
  box-sizing: border-box;
}
button { cursor: pointer; }
#output {white-space: pre-wrap;}
#loginBox {width: 300px;}
#welcomeMsg {font-size: 28px; font-weight:bold; margin-bottom:10px;}
</style>
</head>
<body>

<div id="terminal">
  <div id="rightPanel">
    <div id="loginBox">
      <h2>Login</h2>
      <input type="text" id="usernameInput" placeholder="Username">
      <input type="password" id="passwordInput" placeholder="Password">
      <button onclick="login()">Login</button>
      <p id="loginMsg"></p>
    </div>
    <div id="welcomeMsg"></div>
    <div id="output"></div>
  </div>
  <div id="static"></div>
</div>

<script>
const masterCode = "WARGAMES";

// Database now editable directly in code
let database = [
  {key: "XJ7-12D6", info: "Sample classified information."},
  {key: "INFO-001", info: "Salesmen is the most relentless opponent of our organization, constantly attempting to sabotage and undermine our efforts. While he fails in most of his schemes, occasional victories are possible, so caution is necessary. Do not trust or engage with him. Likewise, his associate, xlgisthegoat, should also be regarded as untrustworthy and avoided at all costs."}
];

// Accounts with display messages
const accounts = { 
  "NP_ZHT": {password:"ACCESSCODE-29XQ", display:"Welcome, Patrick"},
  "ELM_QWE": {password:"ACCESSCODE-67CW", display:"Welcome, Parker"}
};

let loggedInUser = null;
const output = document.getElementById("output");
const welcomeDiv = document.getElementById("welcomeMsg");

function typeLine(line, delay=30){
  return new Promise(resolve=>{
    let i=0;
    const interval = setInterval(()=>{
      output.innerHTML += line[i];
      i++;
      if(i>=line.length){
        clearInterval(interval);
        output.innerHTML += "\n";
        resolve();
      }
    }, delay);
  });
}

function displayInfo(){
  output.innerHTML = "";
  database.forEach(entry=>{
    typeLine(`Key: ${entry.key} | Info: ${entry.info}`, 15);
  });
}

// FIXED login to trim spaces
function login(){
  const user = document.getElementById("usernameInput").value.trim();
  const pass = document.getElementById("passwordInput").value.trim();
  if(accounts[user] && accounts[user].password === pass){
    loggedInUser = user;
    welcomeDiv.innerText = accounts[user].display;
    document.getElementById("loginBox").style.display="none";
    displayInfo();
  } else {
    document.getElementById("loginMsg").innerText = "Invalid username or password!";
  }
}
</script>
</body>
</html>
